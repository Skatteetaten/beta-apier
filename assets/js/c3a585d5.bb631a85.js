"use strict";(self.webpackChunkbeta_apier=self.webpackChunkbeta_apier||[]).push([[8452],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>d});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),k=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p=function(e){var t=k(e.components);return n.createElement(l.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},g=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,s=e.originalType,l=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=k(r),g=a,d=u["".concat(l,".").concat(g)]||u[g]||m[g]||s;return r?n.createElement(d,i(i({ref:t},p),{},{components:r})):n.createElement(d,i({ref:t},p))}));function d(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=r.length,i=new Array(s);i[0]=g;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[u]="string"==typeof e?e:a,i[1]=o;for(var k=2;k<s;k++)i[k]=r[k];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}g.displayName="MDXCreateElement"},6674:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>k});var n=r(7462),a=(r(7294),r(3905));const s={},i="Tilgang til tjenesten",o={unversionedId:"trekkpaalegg/tilgang",id:"trekkpaalegg/tilgang",title:"Tilgang til tjenesten",description:"Tilgang styres via Maskinporten.",source:"@site/docs/trekkpaalegg/tilgang.md",sourceDirName:"trekkpaalegg",slug:"/trekkpaalegg/tilgang",permalink:"/beta-apier/trekkpaalegg/tilgang",draft:!1,tags:[],version:"current",lastUpdatedAt:1736529230,formattedLastUpdatedAt:"10. jan. 2025",frontMatter:{},sidebar:"docs",previous:{title:"Dokumentasjon for trekkp\xe5legg",permalink:"/beta-apier/trekkpaalegg/feltbeskrivelser/"},next:{title:"Informasjonsmodeller",permalink:"/beta-apier/trekkpaalegg/informasjonsmodeller"}},l={},k=[{value:"Alternativ 1 - Systemleverand\xf8r er trekkpliktig",id:"alternativ-1---systemleverand\xf8r-er-trekkpliktig",level:2},{value:"Alternativ 2 - Systembruker",id:"alternativ-2---systembruker",level:2},{value:"Test uten bruk av systembruker (alternativ 1)",id:"test-uten-bruk-av-systembruker-alternativ-1",level:2},{value:"Test der systembruker benyttes (alternativ 2)",id:"test-der-systembruker-benyttes-alternativ-2",level:2}],p={toc:k};function u(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"tilgang-til-tjenesten"},"Tilgang til tjenesten"),(0,a.kt)("p",null,"Tilgang styres via ",(0,a.kt)("a",{parentName:"p",href:"https://skatteetaten.github.io/api-dokumentasjon/om/sikkerhet"},"Maskinporten"),"."),(0,a.kt)("p",null,"For \xe5 f\xe5 utstedt token av Maskinporten m\xe5 l\xf8nnssystemet gjennom sitt virksomhetssertifikat angi hvilket organisasjonsnummer de representerer. Dette organisasjonsnummeret m\xe5 v\xe6re godkjent av Skatteetaten."),(0,a.kt)("p",null,"For \xe5 benytte tjenestene for trekkp\xe5legg skal f\xf8lgende scope angis ved autentisering i Maskinporten:\n",(0,a.kt)("inlineCode",{parentName:"p"},"skatteetaten:trekkpaalegg")),(0,a.kt)("p",null,"API-et st\xf8tter to varianter av autentisering via Maskinporten. Disse er beskrevet under"),(0,a.kt)("h2",{id:"alternativ-1---systemleverand\xf8r-er-trekkpliktig"},"Alternativ 1 - Systemleverand\xf8r er trekkpliktig"),(0,a.kt)("p",null,"Dersom systemleverand\xf8r kun skal motta trekkp\xe5legg for sin egen organisasjon, kan man benytte klassisk autentisering via Maskinporten. Mer informasjon om dette finnes ",(0,a.kt)("a",{parentName:"p",href:"https://skatteetaten.github.io/api-dokumentasjon/om/sikkerhet"},"her"),"."),(0,a.kt)("h2",{id:"alternativ-2---systembruker"},"Alternativ 2 - Systembruker"),(0,a.kt)("p",null,"Dersom systemleverand\xf8r \xf8nsker \xe5 tilby funksjonalitet der en annen organisasjon (kunde av systemleverand\xf8ren) skal benytte systemet til \xe5 motta trekkp\xe5legg, skal Altinn sin nye funksjonalitet for \u2018systembruker\u2019 benyttes. Mer informasjon om dette finnes i ",(0,a.kt)("a",{parentName:"p",href:"https://docs.altinn.studio/authentication/guides/systemauthentication-for-systemproviders/"},"Altinn Systembruker for SBS")," og\n",(0,a.kt)("a",{parentName:"p",href:"https://github.com/orgs/digdir/projects/8/views/5?pane=issue&itemId=41197982"},"Systembruker roadmap"),"."),(0,a.kt)("p",null,"Systemleverand\xf8r m\xe5 for \xe5 st\xf8tte systembruker registrere seg i ",(0,a.kt)("a",{parentName:"p",href:"https://docs.altinn.studio/authentication/guides/systemauthentication-for-systemproviders/"},"Maskinporten og Altinn test environment"),"."),(0,a.kt)("h1",{id:"testoppsett"},"Testoppsett"),(0,a.kt)("h2",{id:"test-uten-bruk-av-systembruker-alternativ-1"},"Test uten bruk av systembruker (alternativ 1)"),(0,a.kt)("p",null,"Valgfrie organisasjoner fra Tenor kan benyttes som trekkpliktig."),(0,a.kt)("h2",{id:"test-der-systembruker-benyttes-alternativ-2"},"Test der systembruker benyttes (alternativ 2)"),(0,a.kt)("p",null,"Valgfrie organisasjoner fra Tenor kan benyttes som trekkpliktig. Den valgte organisasjonen i Tenor (som representerer en trekkpliktig) m\xe5 godkjenne at dens fagsystem kan benytte tilgangsressursen/tjenesten \xabInformasjon om trekkp\xe5legg\xbb p\xe5 vegne av virksomheten. Det opprettes da en \xabsystembruker\xbb som er koblingen mellom bruker, system, leverand\xf8r og API."))}u.isMDXComponent=!0}}]);