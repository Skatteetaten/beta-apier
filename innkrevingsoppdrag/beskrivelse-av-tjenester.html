<!doctype html>
<html lang="nb" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-innkrevingsoppdrag/beskrivelse-av-tjenester">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Beskrivelse av tjenester | Beta-APIer</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://skatteetaten.github.io/beta-apier/innkrevingsoppdrag/beskrivelse-av-tjenester"><meta data-rh="true" name="docusaurus_locale" content="nb"><meta data-rh="true" name="docsearch:language" content="nb"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Beskrivelse av tjenester | Beta-APIer"><meta data-rh="true" name="description" content="Lenke til API-dokumentasjonen finnes i menyen til venstre. Under følger en beskrivelse av hvordan de ulike tjenestene"><meta data-rh="true" property="og:description" content="Lenke til API-dokumentasjonen finnes i menyen til venstre. Under følger en beskrivelse av hvordan de ulike tjenestene"><link data-rh="true" rel="icon" href="/beta-apier/img/favicon.png"><link data-rh="true" rel="canonical" href="https://skatteetaten.github.io/beta-apier/innkrevingsoppdrag/beskrivelse-av-tjenester"><link data-rh="true" rel="alternate" href="https://skatteetaten.github.io/beta-apier/innkrevingsoppdrag/beskrivelse-av-tjenester" hreflang="nb"><link data-rh="true" rel="alternate" href="https://skatteetaten.github.io/beta-apier/innkrevingsoppdrag/beskrivelse-av-tjenester" hreflang="x-default"><link rel="stylesheet" href="/beta-apier/assets/css/styles.5c823cde.css">
<link rel="preload" href="/beta-apier/assets/js/runtime~main.2a0c0f79.js" as="script">
<link rel="preload" href="/beta-apier/assets/js/main.cb3a98f8.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div dir="ltr" class="body-98"><div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><div class="navigation_AME2 navbar"><header><div class="topStripe-99"><div class="overlay-101"></div><div class="background-100"><ul class="topStripeContainer-103"><li class="topStripeElement-106"><span class="linkContainer-109"><a href="https://www.skatteetaten.no/kontakt/" class="iconLink-111" index="0">Kontakt oss</a></span></li><li class="topStripeElement-106 hideOnMobile-105"></li><li class="topStripeElement-106"><div class="searchBox_ZlJk"></div></li></ul></div></div><div class="bannerContent_g7Ne"><div><div class="bannerImg_Jf97"><a href="https://www.skatteetaten.no/"><img src="/beta-apier/img/logoSKE.svg"></a></div></div><div class="bannerHeader_BEtj"><a href="https://www.skatteetaten.no/fremtidensinnkreving/" role="link" class="ms-Button ms-Button--action ms-Button--command root-123" data-is-focusable="true"><span class="ms-Button-flexContainer flexContainer-124" data-automationid="splitbuttonprimary"><i data-icon-name="ArrowBack" aria-hidden="true" class="ms-Icon root-90 css-132 ms-Button-icon icon-126" style="font-family:&quot;SkeIconfont&quot;"></i><span class="ms-Button-textContainer textContainer-125"><span class="ms-Button-label label-127" id="id__17">Tilbake til Fremtidens Innkreving</span></span></span></a><h1>Beta APIer</h1></div></div></header></div><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/beta-apier/">Kom i gang</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/beta-apier/innkrevingsoppdrag">Innkrevingsoppdrag</a><button aria-label="Toggle the collapsible sidebar category &#x27;Innkrevingsoppdrag&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://app.swaggerhub.com/apis-docs/skatteetaten/oppdragsinnkreving-api/" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">API-dokumentasjon<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/beta-apier/innkrevingsoppdrag/kom-i-gang">Kom i gang</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/beta-apier/innkrevingsoppdrag/anbefalinger-for-bruk">Anbefalinger for bruk</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/beta-apier/innkrevingsoppdrag/beskrivelse-av-tjenester">Beskrivelse av tjenester</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/beta-apier/innkrevingsoppdrag/funksjonell-beskrivelse">Funksjonell beskrivelse</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/beta-apier/innkrevingsoppdrag/felles-valideringsregler">Felles valideringsregler</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/beta-apier/innkrevingsoppdrag/oppdragsgiverspesifikke-valideringsregler/bronnoysundregistrene">Oppdragsgiverspesifikke valideringsregler</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/beta-apier/utleggsbegjaering">Utleggsbegjæring og prøving</a><button aria-label="Toggle the collapsible sidebar category &#x27;Utleggsbegjæring og prøving&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/beta-apier/trekkpaalegg">Trekkpålegg</a><button aria-label="Toggle the collapsible sidebar category &#x27;Trekkpålegg&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/beta-apier/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/beta-apier/innkrevingsoppdrag"><span itemprop="name">Innkrevingsoppdrag</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Beskrivelse av tjenester</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Beskrivelse av tjenester</h1><p>Lenke til API-dokumentasjonen finnes i menyen til venstre. Under følger en beskrivelse av hvordan de ulike tjenestene
brukes, og eventuelle hensyn som må tas.</p><p><em>Seksjonen vil utvides etter hvert som flere oppdragsgivere og typer krav støttes.</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="innholdsfortegnelse">Innholdsfortegnelse<a class="hash-link" href="#innholdsfortegnelse" title="Direct link to heading">​</a></h2><ul><li><a href="#beskrivelse-av-tjenester">Beskrivelse av tjenester</a><ul><li><a href="#innholdsfortegnelse">Innholdsfortegnelse</a></li><li><a href="#opprett-et-innkrevingsoppdrag">Opprett et innkrevingsoppdrag</a><ul><li><a href="#synkron-validering-ved-mottak">Synkron validering ved mottak</a></li><li><a href="#asynkron-validering">Asynkron validering</a></li><li><a href="#hent-mottaksbekreftelse">Hent mottaksbekreftelse</a></li><li><a href="#hent-valideringsfeil">Hent valideringsfeil</a></li><li><a href="#feilh%C3%A5ndtering">Feilhåndtering</a></li><li><a href="#sekvensdiagram">Sekvensdiagram</a></li></ul></li><li><a href="#endre-et-innkrevingsoppdrag">Endre et innkrevingsoppdrag</a><ul><li><a href="#synkron-validering-ved-mottak-1">Synkron validering ved mottak</a></li><li><a href="#asynkron-validering-1">Asynkron validering</a></li><li><a href="#feilh%C3%A5ndtering-1">Feilhåndtering</a></li><li><a href="#sekvensdiagram-1">Sekvensdiagram</a></li></ul></li><li><a href="#avskriv-et-innkrevingsoppdrag">Avskriv et innkrevingsoppdrag</a><ul><li><a href="#synkron-validering-ved-mottak-2">Synkron validering ved mottak</a></li><li><a href="#asynkron-validering-2">Asynkron validering</a></li><li><a href="#feilh%C3%A5ndtering-2">Feilhåndtering</a></li><li><a href="#sekvensdiagram-2">Sekvensdiagram</a></li></ul></li><li><a href="#grensesnittavstemming-av-et-innkrevingsoppdrag">Grensesnittavstemming av et innkrevingsoppdrag</a></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="opprett-et-innkrevingsoppdrag">Opprett et innkrevingsoppdrag<a class="hash-link" href="#opprett-et-innkrevingsoppdrag" title="Direct link to heading">​</a></h2><p>Et innkrevingsoppdrag opprettes i Skatteetatens innkrevingssystemer ved et POST-kall
til  <code>/api/innkreving/innkrevingsoppdrag/v1/innkrevingsoppdrag</code>. Før innkrevingsoppdraget blir reskontroført og
Skatteetaten overtar ansvaret for innkrevingen gjøres det en validering. Valideringen skjer i to omganger; synkront og
asynkront, beskrevet under.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="synkron-validering-ved-mottak">Synkron validering ved mottak<a class="hash-link" href="#synkron-validering-ved-mottak" title="Direct link to heading">​</a></h3><p>Tjenesten validerer <code>OpprettInnkrevingsoppdragRequest</code>-objektet som er meldingskroppen i POST-kallet. Denne valideringen
sikrer at alle nødvendige felter er korrekt utfylt og at dataene stemmer overens med tjenestens API-spesifikasjon.</p><p>Et vellykket kall returnerer kvittering med en 201-statuskode sammen med en <em>kravidentifikator</em>, som er Skatteetatens
referanse til innkrevingsoppdraget. Denne <em>kravidentifikatoren</em> bør oppdragsgiver ta vare på for sporbarhet, og for
senere å kunne referere til kravet.</p><p><strong>HTTP statuskode 201 bekrefter at Skatteetaten har <em>mottatt</em> innkrevingsoppdraget. Skatteetaten har enda ikke tatt over
ansvaret for innkrevingen - Se <a href="#asynkron-validering">asynkron validering</a>.</strong></p><p>Ved valideringsfeil returneres HTTP statuskode 422 samt informasjon om valideringsfeilen. Oppdragsgiver må deretter
korrigere innkrevingsoppdraget og sende det inn på nytt. <em>Merk: Etter korreksjon kan det oppstå ytterligere
valideringsfeil fra påfølgende valideringsregler ettersom valideringsreglene utføres sekvensielt.</em></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="asynkron-validering">Asynkron validering<a class="hash-link" href="#asynkron-validering" title="Direct link to heading">​</a></h3><p>Etter vellykket synkron validering (HTTP statuskode 201), foretas en <em>ekstra</em> asynkron validering. Her gjøres det en mer
funksjonell sjekk på at innholdet i innkrevingsoppdraget er mulig for Skatteetaten å kreve inn. Se <a href="#hent-mottaksbekreftelse">hent
mottaksbekreftelse</a>.</p><p><strong>Når mottaksstatus er <code>RESKONTROFOERT</code> er mottaket vellykket, og ansvaret for videre oppfølging (innkreving) ligger hos
Skatteetaten.</strong></p><p>Ved valideringsfeil vil mottaksstatus settes til <code>VALIDERINGSFEIL</code>. Da må feilene rettes av oppdragsgiver, og oppdatert
innkrevingsoppdrag må sendes inn på nytt. Ansvaret for oppfølging ligger da hos oppdragsgiver.
Se <a href="#hent-valideringsfeil">hent valideringsfeil</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hent-mottaksbekreftelse">Hent mottaksbekreftelse<a class="hash-link" href="#hent-mottaksbekreftelse" title="Direct link to heading">​</a></h3><ol><li><p>Opprett nytt innkrevingsoppdrag med POST-kall til <code>/api/innkreving/innkrevingsoppdrag/v1/innkrevingsoppdrag</code> (Se
&quot;Opprett et innkrevingsoppdrag&quot;
i <a href="https://app.swaggerhub.com/apis-docs/skatteetaten/oppdragsinnkreving-api/" target="_blank" rel="noopener noreferrer">SwaggerHub</a>).</p><ul><li>Kallet er vellykket og får en kvittering (201-statuskode) med en kravidentifikator.</li></ul></li><li><p>Etter noen sekunder kan mottaksstatus hentes ved å gjøre GET-kall med kravidentifikatoren
til <code>/api/innkreving/innkrevingsoppdrag/v1/innkrevingsoppdrag/{kravidentifikator}/mottaksstatus</code> (se
&quot;Hent mottaksstatus for et innkrevingsoppdrag&quot;
i <a href="https://app.swaggerhub.com/apis-docs/skatteetaten/oppdragsinnkreving-api/" target="_blank" rel="noopener noreferrer">SwaggerHub</a>).</p><ul><li><p>Hvis mottaksstatus er <code>MOTTATT_UNDER_BEHANDLING</code>, behandler Skatteetaten det fortsatt.</p><ul><li>Ansvaret for oppfølging ligger hos Skatteetaten.</li></ul></li><li><p>Hvis mottaksstatus er <code>VALIDERINGSFEIL</code>, må valideringsfeil hentes ved GET-kall
til <code>/api/innkreving/innkrevingsoppdrag/v1/innkrevingsoppdrag/{kravidentifikator}/valideringsfeil</code> (se
&quot;Hent valideringsfeil for et innkrevingsoppdrag&quot;
i <a href="https://app.swaggerhub.com/apis-docs/skatteetaten/oppdragsinnkreving-api/" target="_blank" rel="noopener noreferrer">SwaggerHub</a>). Deretter må
feilene rettes, og oppdatert innkrevingsoppdrag må sendes inn på nytt med en ny <code>oppdragsgiversKravidentifikator</code>.</p><ul><li>NB! Ansvaret for oppfølging ligger hos oppdragsgiver.</li></ul></li><li><p>Hvis mottaksstatus er <code>RESKONTROFOERT</code> er mottaket vellykket.</p><ul><li>Ansvaret for oppfølging ligger hos Skatteetaten.</li></ul></li></ul></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hent-valideringsfeil">Hent valideringsfeil<a class="hash-link" href="#hent-valideringsfeil" title="Direct link to heading">​</a></h3><p>Eventuelle valideringsfeil
fra <a href="#asynkron-validering">den asynkrone valideringen ved opprettelse av et innkrevingsoppdrag</a> kan hentes ut ved et
GET-kall til endepunktet <code>/api/innkreving/innkrevingsoppdrag/v1/innkrevingsoppdrag/{kravidentifikator}/valideringsfeil</code>.</p><p>Dersom den asynkrone valideringen ikke har resultert i noen valideringsfeil, returneres en tom liste.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="feilhåndtering">Feilhåndtering<a class="hash-link" href="#feilhåndtering" title="Direct link to heading">​</a></h3><p>Tjenesten for opprettelse av nye krav sikrer unikhet på <code>oppdragsgiversKravidentifikator</code>. Dersom man følger
<a href="/beta-apier/innkrevingsoppdrag/anbefalinger-for-bruk#utfylling-av-feltet-oppdragsgiverskravidentifikator-i-opprettinnkrevingsoppdragrequest">anbefalinger for bruk av tjenestene våre</a>
og fyller ut dette feltet, kan man sende oppdraget på nytt hvis man av ulike grunner er usikker på om kravet faktisk har
blitt opprettet hos Skatteetaten. Dersom kravet allerede finnes i vårt system, vil det returneres
en HTTP 422-statuskode med en beskrivende feilmelding. Hvis det ikke finnes, vil innkrevingsoppdraget bli opprettet og
prosessert. <em>Dette mønsteret for feilhåndtering kan kun benyttes om <code>oppdragsgiversKravidentifikator</code> er utfylt.</em></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sekvensdiagram">Sekvensdiagram<a class="hash-link" href="#sekvensdiagram" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/beta-apier/assets/images/sekvensdiagram_nytt_krav-39a0afc02cf2be59f416eaee9dafb352.png" width="1248" height="1175" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="endre-et-innkrevingsoppdrag">Endre et innkrevingsoppdrag<a class="hash-link" href="#endre-et-innkrevingsoppdrag" title="Direct link to heading">​</a></h2><p>Innkrevingsoppdrag kan endres ved et PUT-kall til følgende endepunkter:</p><ul><li><code>/api/innkreving/innkrevingsoppdrag/v1/innkrevingsoppdrag/{kravidentifikator}/hovedstol</code></li><li><code>/api/innkreving/innkrevingsoppdrag/v1/innkrevingsoppdrag/{kravidentifikator}/renter</code></li><li><code>/api/innkreving/innkrevingsoppdrag/v1/innkrevingsoppdrag/{kravidentifikator}/oppdragsgiversreferanse</code></li></ul><p>Endrings-tjenestene brukes til å gjøre korreksjoner på et innkrevingsoppdrag, f.eks. der skyldner har betalt deler av
beløpet til oppdragsgiver og det er behov for å nedjustere hovedstolen.</p><p>Merk at et innkrevingsoppdrag ikke kan endres umiddelbart etter opprettelse; det kan først endres etter at
Skatteetaten har reskontroført det. Ved normal drift vil dette skje tilnærmet øyeblikkelig.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="synkron-validering-ved-mottak-1">Synkron validering ved mottak<a class="hash-link" href="#synkron-validering-ved-mottak-1" title="Direct link to heading">​</a></h3><p>Tjenesten foretar en synkron validering av at det innkommende forespørsels-objektet for endring er iht.
OpenAPI-spesifikasjonen.</p><p>Et vellykket kall returnerer kvittering med en 200-statuskode sammen med en <em>transaksjonsid</em> som er Skatteetatens
referanse til endringen. Denne <em>transaksjonsiden</em> bør oppdragsgiver ta vare på for sporbarhet, og for senere å kunne
referere til endringen.</p><p><strong>HTTP 200-statuskode bekrefter at Skatteetaten har mottatt og tatt ansvaret for at endringen blir utført.</strong></p><p>Ved valideringsfeil vil endepunktet returnere en HTTP 422-statuskode med en beskrivende feilmelding.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="asynkron-validering-1">Asynkron validering<a class="hash-link" href="#asynkron-validering-1" title="Direct link to heading">​</a></h3><p>Det gjøres per nå ingen asynkron validering på noen av endepunktene for endring.</p><p>Det gis per nå ingen mottaksstatus på endringer, f.eks. om en endring er reskontroført. Dersom det oppstår feil utover
synkron validering, og oppdragsgiver må foreta seg noe, vil varsling skje manuelt. Automatisk varsling vil kunne
etableres sammen med nye innkrevingsløsninger.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="feilhåndtering-1">Feilhåndtering<a class="hash-link" href="#feilhåndtering-1" title="Direct link to heading">​</a></h3><p>I tilfeller hvor klienten opplever nettverksfeil eller andre usikkerheter ved endring av et innkrevingsoppdrag, og er
usikker på om kravet faktisk ble endret hos Skatteetaten, anbefales det å sende forespørselen på nytt. Den samme
endringen kan sendes inn et vilkårlig antall ganger med samme resultat. Dersom en allerede eksisterende gyldig endring
sendes inn på nytt, vil det fremdeles returneres en HTTP 200-statuskode.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sekvensdiagram-1">Sekvensdiagram<a class="hash-link" href="#sekvensdiagram-1" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/beta-apier/assets/images/sekvensdiagram_endre_krav-e9b9e49dfe8f5c965f87f834a584a5bd.png" width="1247" height="597" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="avskriv-et-innkrevingsoppdrag">Avskriv et innkrevingsoppdrag<a class="hash-link" href="#avskriv-et-innkrevingsoppdrag" title="Direct link to heading">​</a></h2><p>Innkrevingsoppdrag kan avskrives ved et POST-kall til
endepunktet <code>/api/innkreving/innkrevingsoppdrag/v1/innkrevingsoppdrag/avskriving</code>. Endepunktet benyttes når
oppdragsgiver mener at kravet ikke lenger skal kreves inn, eksempelvis fordi oppdragsgiver har frafalt kravet.</p><p>Merk at et innkrevingsoppdrag ikke kan avskrives umiddelbart etter opprettelse; det kan først avskrives etter at
Skatteetaten har reskontroført det. Ved normal drift vil dette skje tilnærmet øyeblikkelig.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="synkron-validering-ved-mottak-2">Synkron validering ved mottak<a class="hash-link" href="#synkron-validering-ved-mottak-2" title="Direct link to heading">​</a></h3><p>Tjenesten foretar en synkron validering av at det innkommende <code>AvskrivingRequest</code>-objektet er iht.
OpenAPI-spesifikasjonen.</p><p>Et vellykket kall returnerer kvittering med en 200-statuskode sammen med en <em>transaksjonsid</em> som er Skatteetatens
referanse til avskrivingen. Denne <em>transaksjonsiden</em> bør oppdragsgiver ta vare på for sporbarhet, og for senere å kunne
referere til avskrivingen.</p><p><strong>HTTP 200-statuskode bekrefter at Skatteetaten har mottatt og tatt ansvaret for at avskrivingen blir utført.</strong></p><p>Ved valideringsfeil vil endepunktet returnere en HTTP 422-statuskode med en beskrivende feilmelding.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="asynkron-validering-2">Asynkron validering<a class="hash-link" href="#asynkron-validering-2" title="Direct link to heading">​</a></h3><p>Det gjøres per nå ingen asynkron validering ved avskriving.</p><p>Det gis per nå ingen mottaksstatus på avskrivinger. F.eks. om avskrivningen er reskontroført. Dersom det oppstår feil
utover synkron validering, og oppdragsgiver må foreta seg noe, vil varsling skje manuelt. Automatisk varsling vil kunne
etableres sammen med nye innkrevingsløsninger.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="feilhåndtering-2">Feilhåndtering<a class="hash-link" href="#feilhåndtering-2" title="Direct link to heading">​</a></h3><p>I tilfeller hvor klienten opplever nettverksfeil eller andre usikkerheter ved avskriving av innkrevingsoppdrag, og er
usikker på om kravet faktisk ble avskrevet hos Skatteetaten, anbefales det å sende forespørselen på nytt.
Et innkrevingsoppdrag som allerede er avskrevet, kan ikke avskrives på nytt. I slike tilfeller returneres en HTTP
409-statuskode med en feilmelding.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sekvensdiagram-2">Sekvensdiagram<a class="hash-link" href="#sekvensdiagram-2" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/beta-apier/assets/images/sekvensdiagram_avskriv_krav-50ffa3a16e1f4c252558833fb8baba3f.png" width="1250" height="592" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="grensesnittavstemming-av-et-innkrevingsoppdrag">Grensesnittavstemming av et innkrevingsoppdrag<a class="hash-link" href="#grensesnittavstemming-av-et-innkrevingsoppdrag" title="Direct link to heading">​</a></h2><p>Tjenesten gjør det mulig for oppdragsgiver å avstemme at krav, endringer på krav og avskrivinger er registrert korrekt i
Skatteetatens kravmottak. Alle registrerte opplysninger om et krav som er sendt inn gjennom grensesnittet kan hentes ved
et GET-kall til endepunktet <code>/api/innkreving/innkrevingsoppdrag/v1/innkrevingsoppdrag/{kravidentifikator}/avstemming</code>.</p><p>Tjenesten returnerer for en gitt kravidentifikator:</p><ul><li>Skatteetatens kravidentifikator for oppdraget</li><li>Oppdragsgivers kravidentifikator (dersom den ble oversendt i det opprinnelige innkrevingsoppdraget)</li><li>De forespørslene som oppdragsgiver har sendt, i samme format som de ble sendt, med tidspunkt for mottak:<ul><li>Det opprinnelige kravet</li><li>Eventuelle endringer på kravet, med transaksjonsid</li><li>Eventuell avskriving av kravet, med transaksjonsid</li></ul></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-09-25T14:26:31.000Z">25. sep. 2024</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/beta-apier/innkrevingsoppdrag/anbefalinger-for-bruk"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Anbefalinger for bruk</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/beta-apier/innkrevingsoppdrag/funksjonell-beskrivelse"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Funksjonell beskrivelse</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#innholdsfortegnelse" class="table-of-contents__link toc-highlight">Innholdsfortegnelse</a></li><li><a href="#opprett-et-innkrevingsoppdrag" class="table-of-contents__link toc-highlight">Opprett et innkrevingsoppdrag</a><ul><li><a href="#synkron-validering-ved-mottak" class="table-of-contents__link toc-highlight">Synkron validering ved mottak</a></li><li><a href="#asynkron-validering" class="table-of-contents__link toc-highlight">Asynkron validering</a></li><li><a href="#hent-mottaksbekreftelse" class="table-of-contents__link toc-highlight">Hent mottaksbekreftelse</a></li><li><a href="#hent-valideringsfeil" class="table-of-contents__link toc-highlight">Hent valideringsfeil</a></li><li><a href="#feilhåndtering" class="table-of-contents__link toc-highlight">Feilhåndtering</a></li><li><a href="#sekvensdiagram" class="table-of-contents__link toc-highlight">Sekvensdiagram</a></li></ul></li><li><a href="#endre-et-innkrevingsoppdrag" class="table-of-contents__link toc-highlight">Endre et innkrevingsoppdrag</a><ul><li><a href="#synkron-validering-ved-mottak-1" class="table-of-contents__link toc-highlight">Synkron validering ved mottak</a></li><li><a href="#asynkron-validering-1" class="table-of-contents__link toc-highlight">Asynkron validering</a></li><li><a href="#feilhåndtering-1" class="table-of-contents__link toc-highlight">Feilhåndtering</a></li><li><a href="#sekvensdiagram-1" class="table-of-contents__link toc-highlight">Sekvensdiagram</a></li></ul></li><li><a href="#avskriv-et-innkrevingsoppdrag" class="table-of-contents__link toc-highlight">Avskriv et innkrevingsoppdrag</a><ul><li><a href="#synkron-validering-ved-mottak-2" class="table-of-contents__link toc-highlight">Synkron validering ved mottak</a></li><li><a href="#asynkron-validering-2" class="table-of-contents__link toc-highlight">Asynkron validering</a></li><li><a href="#feilhåndtering-2" class="table-of-contents__link toc-highlight">Feilhåndtering</a></li><li><a href="#sekvensdiagram-2" class="table-of-contents__link toc-highlight">Sekvensdiagram</a></li></ul></li><li><a href="#grensesnittavstemming-av-et-innkrevingsoppdrag" class="table-of-contents__link toc-highlight">Grensesnittavstemming av et innkrevingsoppdrag</a></li></ul></div></div></div></div></main></div></div><div><div class="footerDecorContainer-139" aria-hidden="true"><svg focusable="false" class="footer-decoration-svg" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" preserveAspectRatio="none" viewBox="0 0 1440 100" version="1.1"><desc></desc><defs></defs><g stroke="none" stroke-width="0" fill="none" fill-rule="evenodd"><g id="bakgrunn"><polygon fill="#f3a7b0" points="0 99.6400524 1440 99.6400524 1440 69.2255838 0 17.1793194"></polygon><path d="M1440,98 L1440,629 L0,629 L0,98 L1440,0 L1440,98 Z" fill="#6f2c3f"></path></g></g></svg></div><footer class="footerWrapperSKE-133"><div class="footerContentSKE-134"><div dir="ltr" class="ske-Grid-140"><div class="ske-Grid-row-143"><div class="ske-Grid-col-144"></div><div class="ske-Grid-col-145"><div dir="ltr" class="ske-Grid-140"><div class="ske-Grid-row-143"><div class="ske-Grid-col-146"><img class="footerLogo_nfzM" src="/beta-apier/img/ske-logo.svg"></div><div class="ske-Grid-col-147"><div dir="ltr" class="ske-Grid-140"><div class="ske-Grid-row-143"><div class="ske-Grid-col-148"><h2>Om Skatteetaten</h2><ul class="arrowLinkList-151"><li class="arrowLink-149 link__rP8"><span class="linkContainer-153"><i data-icon-name="ArrowForward" aria-hidden="true" role="presentation" class="icon-155"></i><a href="https://www.skatteetaten.no/nn/kontakt/" class="iconLink-154">Kontakt oss</a></span></li><li class="arrowLink-149 link__rP8"><span class="linkContainer-153"><i data-icon-name="ArrowForward" aria-hidden="true" role="presentation" class="icon-155"></i><a href="https://uustatus.no/nb/erklaringer/publisert/fda75c75-d3d3-42ac-acb5-627bae3c1b93" class="iconLink-154">Tilgjengelighetserklæring</a></span></li><li class="arrowLink-149 link__rP8"><span class="linkContainer-153"><i data-icon-name="ArrowForward" aria-hidden="true" role="presentation" class="icon-155"></i><a href="https://www.skatteetaten.no/om-skatteetaten/jobb/" class="iconLink-154">Jobbe i Skatteetaten</a></span></li><li class="arrowLink-149 link__rP8"><span class="linkContainer-153"><i data-icon-name="ArrowForward" aria-hidden="true" role="presentation" class="icon-155"></i><a href="https://www.skatteetaten.no/om-skatteetaten/om-oss/" class="iconLink-154">Om oss</a></span></li><li class="arrowLink-149 link__rP8"><span class="linkContainer-153"><i data-icon-name="ArrowForward" aria-hidden="true" role="presentation" class="icon-155"></i><a href="https://www.skatteetaten.no/om-skatteetaten/analyse-og-rapporter/" class="iconLink-154">Analyse og rapporter</a></span></li><li class="arrowLink-149 link__rP8"><span class="linkContainer-153"><i data-icon-name="ArrowForward" aria-hidden="true" role="presentation" class="icon-155"></i><a href="https://www.skatteetaten.no/om-skatteetaten/forskning/" class="iconLink-154">Forskning</a></span></li></ul></div><div class="ske-Grid-col-148"><h2>Følg oss</h2><p class="subheading_c6Ge">Du kan kontakte oss i sosiale medier.</p><ul class="arrowLinkList-151"><li class="arrowLink-149 link__rP8"><span class="linkContainer-153"><i data-icon-name="ArrowForward" aria-hidden="true" role="presentation" class="icon-155"></i><a href="https://www.skatteetaten.no/om-skatteetaten/sikkerhet/sosiale-medier/" class="iconLink-154">Se alle Skatteetatens kontoer</a></span></li></ul></div><div class="ske-Grid-col-148"><h2>Presse</h2><p class="subheading_c6Ge">Pressemeldinger, pressekontakter og annen informasjon for journalister.</p><ul class="arrowLinkList-151"><li class="arrowLink-149 link__rP8"><span class="linkContainer-153"><i data-icon-name="ArrowForward" aria-hidden="true" role="presentation" class="icon-155"></i><a href="https://www.skatteetaten.no/presse/" class="iconLink-154">Se vårt presserom</a></span></li></ul></div></div></div></div></div></div></div><div class="ske-Grid-col-146"></div></div></div></div></footer></div></div></div>
<script src="/beta-apier/assets/js/runtime~main.2a0c0f79.js"></script>
<script src="/beta-apier/assets/js/main.cb3a98f8.js"></script>
</body>
</html>